// https://github.com/typelevel/spire.git#435e9aff7f7a855933e4bc97f2c72b2c07949418  # was main

// frozen (January 2022) because something changed that confuses
// dbuild and makes it try to build with Scala 3 (?!). not investigated;
// probably sbt-typelevel related?

vars.proj.spire: ${vars.base} {
  name: "spire"
  uri: "https://github.com/typelevel/spire.git#435e9aff7f7a855933e4bc97f2c72b2c07949418"

  // hopefully avoid intermittent OutOfMemoryErrors during compilation
  extra.options: ["-Xmx3G"]
  extra.projects: ["*JVM"]
  extra.exclude: ["spireJVM", "benchmark"]
  extra.commands: ${vars.default-commands} [
    // jmh stuff is out of scope
    "removeDependency org.openjdk.jmh jmh-core"
    "removeDependency org.openjdk.jmh jmh-generator-bytecode"
    "removeDependency org.openjdk.jmh jmh-generator-reflection"
  ]
}
