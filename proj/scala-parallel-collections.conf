// https://github.com/scala/scala-parallel-collections.git#master

vars.proj.scala-parallel-collections: ${vars.base} {
  name: "scala-parallel-collections"
  uri: "https://github.com/scala/scala-parallel-collections.git#52d2c9cdbe112cfb37d5f1b2b56339dfd323293d"

  extra.commands: ${vars.default-commands} [
    // on sbt 1.3, unless we do this, `junit-4.11.jar` drops off the classpath
    // and I could not figure out why, or reproduce it outside of build.
    // downgrading to 1.2 doesn't solve it, because the repo uses a mima version which requires 1.3
    """set every useCoursier := false"""
    // no idea why this would only be required in the community build context, but without it,
    // we get java.lang.ClassNotFoundException: org.hamcrest.SelfDescribing
    """set junit / libraryDependencies += "org.hamcrest" % "hamcrest-core" % "1.3" % Test"""
  ]
}
