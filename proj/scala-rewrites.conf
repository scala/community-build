// https://github.com/scala/scala-rewrites.git#master

// Note that this project is unusual in that we build it using only
// binary dependencies, since our scalafix version is too old and we
// can't upgrade it because it has too may dependencies.  (And
// scala-rewrites is 2.12-only because it lives in sbt-plugin-land.)

vars.proj.scala-rewrites: ${vars.base} {
  name: "scala-rewrites"
  uri: "https://github.com/scala/scala-rewrites.git#82a063a7fefe91a13d0c3bf754c4a057cfb4c579"

  // extra.exclude: ["output213"] // ???
  extra.exclude: ["tests", "input"]
  // the use-binary-dependencies thing runs into trouble because
  // semanticdb-scalac and scalafix-testkit are CrossVersion.full,
  // so we have to override that to use older binaries.  (If they
  // don't work, then we'll have to do something else, but in a way
  // that's good because we can notify Olaf upstream that we changed
  // something in Scala that's going to require changes to Scalafix.)
  extra.commands: ${vars.base.extra.commands} [
    // but note that I've hardcoded the version numbers here and it may need
    // be bumped when a new Scala 2.12.x release is published or when we advance
    // the scala-rewrites SHA.  maybe it's possible to somehow avoid that
    // by computing the version numbers, but meh.
//    """set rewrites / dependencyOverrides += "org.scalameta" % "semanticdb-scalac_2.12.11" % "4.3.7""""
//    """set tests / dependencyOverrides += "org.scalameta" % "semanticdb-scalac_2.12.11" % "4.3.7""""
  ]
}

//   extra.settings: ${vars.default-commands} [
