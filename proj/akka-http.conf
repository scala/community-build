// https://github.com/akka/akka-http.git#main

vars.proj.akka-http: ${vars.base} {
  name: "akka-http"
  uri: "https://github.com/akka/akka-http.git#b56d10e2e87c88d41c4e11544fa6e1e6b29f7ff2"

  extra.exclude: ["docs", "akka-http-bench-jmh"]
  extra.options: [
    // otherwise it defaults to Akka 2.5 and there are problems on JDK 17
    "-Dakka.http.build.akka.version=2.6.18"
    // not sure if still necessary, but it's fine
    "-Dakka.genjavadoc.enabled=false", "-Dakka.scaladoc.diagrams=false"
    // this is for the tests that run unforked...
    "-Dakka.fail-mixed-versions=false"
  ]
  extra.commands: ${vars.default-commands} [
    // ...and this is for the tests that run forked
    """set ThisBuild / javaOptions += "-Dakka.fail-mixed-versions=false""""
  ]
}
