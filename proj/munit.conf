// https://github.com/scalameta/munit.git#master

vars.proj.munit: ${vars.base} {
  name: "munit"
  uri: "https://github.com/scalameta/munit.git#0c4ff57f667970e6574a4c7e02a6296e9feb8990"

  extra.sbt-version: ${vars.sbt-1-3-version}  // https://github.com/scala/community-build/pull/1211
  extra.exclude: ["docs", "plugin", "*JS", "*Native"]
  extra.settings: ${vars.base.extra.settings} [
    // ignore missing org.scala-sbt#scripted-plugin
    """LocalProject("plugin") / dependencyOverrides ~= (_.filter(!_.toString.contains("scripted-plugin")))"""
  ]
  extra.commands: ${vars.default-commands} [
    // use right version-specific source directories regardless of our weird dbuild Scala version numbers
    """set munitJVM / Compile / unmanagedSourceDirectories += baseDirectory.value / "munit" / "shared" / "src" / "main" / "scala-2.13""""
  ]
}
