// https://github.com/scalacenter/scalafix.git#master

vars.proj.scalafix: ${vars.base} {
  name: "scalafix"
  uri: "https://github.com/scalacenter/scalafix.git#fb3cdc5d1caa6b419821b8053182d98bd2fa5027"

  extra.exclude: [
    "docs"  // out of scope
    "unit"  // built below
  ]
  // testkit wants ScalaTest 3.0
  deps.inject: ${vars.base.deps.inject} ["scalacommunitybuild#scalatest"]
  extra.commands: ${vars.default-commands} [
    "removeDependency org.scalatest scalatest"
    """set testkit / libraryDependencies += "scalacommunitybuild" %% "scalatest" % "0""""
  ]
}

// whereas this wants ScalaTest 3.2, so keep it separate

vars.proj.scalafix-tests: ${vars.base} {
  name: "scalafix-tests"
  uri: "https://github.com/scalacenter/scalafix.git#fb3cdc5d1caa6b419821b8053182d98bd2fa5027"

  extra.projects: ["unit"]
  extra.exclude: ["testsInput", "testsShared", "cli", "testkit", "reflect", "interfaces", "core", "rules"]  // already built these above
}
