// https://github.com/eed3si9n/expecty.git#develop

// dependency of scopt

vars.proj.expecty: ${vars.base} {
  name: "expecty"
  uri: "https://github.com/eed3si9n/expecty.git#a0c8657d1b8041132aa2a6bdd84b490c9253f177"

  extra.projects: ["expecty"]  // this is the 2.13 one
  extra.settings: ${vars.base.extra.settings} [
    "Global / semanticdbEnabled := false"
  ]
  extra.commands: ${vars.default-commands} [
    // use right version-specific source directories (not sure why existing stuff in build.sbt doesn't work)
    """set expecty.jvm("2.13.3") / Compile / unmanagedSourceDirectories += (ThisBuild / baseDirectory).value / "src" / "main" / "scala-2.13""""
    // these are waiting on https://github.com/eed3si9n/expecty/pull/42
    """set expecty.jvm("2.13.3") / Test / unmanagedSources / excludeFilter := HiddenFileFilter || "RenderingTest.scala" || "ExpectyRenderingSpec.scala""""
  ]
}
