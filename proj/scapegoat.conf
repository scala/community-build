// https://github.com/scalacommunitybuild/scapegoat.git#community-build-2.13  # was scapegoat-scala, master

// forked (August 2019; refreshed June 2023) because some
// classpath-handling code didn't work under dbuild

vars.proj.scapegoat: ${vars.base} {
  name: "scapegoat"
  uri: "https://github.com/scalacommunitybuild/scapegoat.git#f3f327b07c28dca5cfe3c0c0077664c4b87e1be9"

  extra.commands: ${vars.default-commands} [
    // test started failing on 2.13.12; see my remarks at
    // https://github.com/scala/community-build/pull/1677#issuecomment-1614721682
    """set Test / unmanagedSources / excludeFilter := HiddenFileFilter || "UnnecessaryConversionTest.scala""""
    // because scala/scala#10439, until maintainers move to 2.13.12
    "appendScalacOptions -Xmigration"
  ]
}
