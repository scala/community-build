#!/usr/bin/env bash

# to advance all projects:
#   % ./advance scalacheck
# to advance just selected ones:
#   % ./advance scalacheck scalatest specs2

set -e

# as per https://github.com/coursier/coursier/issues/2058
cs launch \
  scala3-compiler:3.1.0-RC3 \
  -M dotty.tools.MainGenericRunner \
  --extra-jars $(cs fetch --intransitive org.scala-lang.modules:scala-parallel-collections_3:1.0.3) \
  --extra-jars $(cs fetch --intransitive com.github.pathikrit:better-files_2.13:3.9.1) \
  -- scripts/Advance.scala $*
